<!DOCTYPE html>

{% extends 'staff/base_candidate.html' %}

{% block sub_body_block %}
<h3>
{% load i18n %}
{% if candidate.invitations.all %}
    {% trans "This person has as already been invited to the following events:" %}
    <div style="line-height:30%;"><br></div>
    {% for invitation in candidate.invitations.all %}
        <ul>
        {{ invitation.handout_event.due_date }} (invited on:  
        {{ invitation.time_of_invitation }})
        </ul>
    {% endfor %}
{% else %}
    {% trans "This person has not been invited to an event yet." %}
{% endif %}
<div style="line-height:90%;"><br></div>
{% if candidate.events_not_invited_to and not candidate.has_bicycle %}
    {% trans "You can invite him to one of the following events:" %}
    <div style="line-height:40%;"><br></div>
    <form id="InviteForm" method="POST" class="post-form">
        {% csrf_token %}
        <div class="form-group row">
            <div class="col-xs-4">
                <select class="form-control" name="invitation_event_id">
                {% for event in candidate.events_not_invited_to %}
                    <option value="{{ event.id }}">{{ event.due_date }}</option>
                {% endfor %}
                </select>
            </div>
        </div>
        <div style="line-height:80%;"><br></div>
        
        <input name="candidate_id" type="hidden" value="{{ candidate.id }}"/>
        <input name="event_id" type="hidden" value="{{ event.id }}"/>
        
        <div class="form-group row">
            <div class="col-xs-3">
                <button class="btn btn-info btn-block" type="submit" value="Submit">
                    {% trans "Submit" %}
                </button>
            </div>
        </div>
    </form>
{% else %}
    {% blocktrans %}
    Either there are no open events the person can be invited to or the 
    person already has a bicycle.
    {% endblocktrans %}
{% endif %}
</h3>

{% endblock %}
